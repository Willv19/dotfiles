pkgname=lf
pkgver=16
pkgrel=1
pkgdesc='lf (as in "list files") is a terminal file manager written in Go'
arch=('x86_64')
url="https://github.com/gokcehan/lf"
license=('MIT')
makedepends=('go')
source=("$pkgname-r$pkgver.tar.gz::https://github.com/gokcehan/$pkgname/archive/r$pkgver.tar.gz")
sha256sums=('SKIP')
provides=("lf")

build() {
  cd "$pkgname-r$pkgver"
  GOPATH="${srcdir}/go" ./gen/build.sh
}

package() {
  cd "$pkgname-r$pkgver"
  install -Dm755 ./lf "$pkgdir/usr/bin/$pkgname"

  install -Dm644 -t "$pkgdir/usr/share/applications" \
      ./lf.desktop

  install -Dm644 -t "$pkgdir/usr/share/licenses/$pkgname" \
      ./LICENSE

  install -Dm644 -t "$pkgdir/usr/share/doc/$pkgname" \
      ./README.md \
      ./etc/lfrc.example

  install -Dm644 -t "$pkgdir/usr/share/man/man1" \
      ./lf.1
}
